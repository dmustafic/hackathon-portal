{
  "id": "2.12.22-extend-recurrent-purchase",
  "docNumber": "2.12.22",
  "displayWeight": "100",
  "name": "Extend Recurrent Purchase",
  "description": "This operation extends the expiry date and the coming renewal time of a recurrent purchase.",
  "categories": ["know-driver"],
  "subCategories": [],
  "resourceTable": {
    "Route": "/content/v1/commerce/extendRecurrentPurchase/{userURI}",
    "HTTP Verb": ["POST"],
    "Authentication": "Basic Authentication"
  },
  "parameters": {
    "route": {
      "userURI": "Represents the user identity in the following format: 'id:<userid>' or 'msisdn:<number>'."
    },
    "requestBody": [
      {
        "key": "appId",
        "type": "String",
        "required": false,
        "description": "Optional: application making this call."
      },
      {
        "key": "Parameters",
        "type": "JSON",
        "required": false,
        "description": "Parameters format depends on the application domain and operation."
      },
      {
        "key": "Client",
        "type": "JSON",
        "required": false,
        "description": "Client capabilities (deviceId)."
      }
    ],
    "responseBody": [
      {
        "key": "billingId",
        "type": "String",
        "required": false,
        "description": "The ID given by the billing system when a purchase is done."
      },
      {
        "key": "purchaseId",
        "type": "String",
        "required": false,
        "description": "The given ID of a purchase when it is done."
      },
      {
        "key": "purchaseIsDone",
        "type": "Boolean",
        "required": true,
        "description": "Specifies whether the purchase is done. True if a purchase is done, else False."
      },
      {
        "key": "recurrentPurchaseId",
        "type": "String",
        "required": false,
        "description": "The ID for the recurrent purchase given that one has been purchased."
      },
      {
        "key": "statusCode",
        "type": "Integer",
        "required": true,
        "description": "Status code for the operation. 0 for success (see error code table otherwise)."
      },
      {
        "key": "unlimitedTicketUsed",
        "type": "Boolean",
        "required": true,
        "description": "Specifies whether the ticket is unlimited to be used. True if the ticket is unlimited to be used, else False."
      },
      {
        "key": "ticketConsumed",
        "type": "Boolean",
        "required": true,
        "description": "Specifies whether the ticket is consumed. True if the ticket is consumed, else False."
      },
      {
        "key": "transactionId",
        "type": "String",
        "required": false,
        "description": "The ID of the transaction."
      },
      {
        "key": "billingErrorInformation",
        "type": "JSON",
        "required": false,
        "description": "Billing error information"
      }
    ]
  },
  "bodyParameterFormats": {
    "request": {
      "Parameters": [
        {
          "key": "recurrentPurchaseId",
          "type": "String",
          "required": true,
          "description": "The ID of the recurrent purchase."
        },
        {
          "key": "extendTime",
          "type": "Long",
          "required": true,
          "description": "The time length for how long the purchase is extended. It is set in second."
        }
      ]
    },
    "response": {
      "billingErrorInformation": [
        {
          "key": "errorCode",
          "type": "String",
          "required": true,
          "description": "Error code that indicates the billing error."
        },
        {
          "key": "errorMessage",
          "type": "String",
          "required": false,
          "description": "The accompanying message description for the error code."
        },
        {
          "key": "variables",
          "type": "String",
          "required": false,
          "description": "Additional information returned from external charging system."
        }
      ]
    }
  },
  "errors": [
    400,
    401,
    403,
    404,
    500
  ],
  "examples": [
    {
      "type": "request",
      "verb": "POST",
      "route": "/content/v1/commerce/extendRecurrentPurchase/msisdn:5143457900",
      "body": {
        "appId": "appStore",
        "parameters": {
          "recurrentPurchaseId": "S-123455",
          "extendTime": 3600
        },
        "Client": {
          "deviceId": "IMX"
        }
      }
    },
    {
      "type": "response",
      "body": {
        "billingId": "~billingId~",
        "purchaseId": "~purchaseId~",
        "purchaseIsdone": true,
        "recurrentPurchaseId": "~recurrentPurchaseId~",
        "statusCode": 0,
        "unlimitedTicketUsed": true,
        "ticketConsumed": true,
        "transactionId": "~transactionId~",
        "billingErrorInformation": null
      }
    }
  ],
  "codeExamples": {
    "android": "/app/src/com/idean/atthack/network/RequestHelper.java",
    "ios": "https://raw.githubusercontent.com/ericsson-innovate/asdp-api-sampler-ios/master/ASDP%20Sampler/Network/ASDPRequestManager.m",
    "web": "/dist/data/web-examples.js"
  }
}
